import{p as G}from"./paginationMeta-BbY5dJ0C.js";import{_ as L}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-BH4UBKf3.js";import{V as E,b as S}from"./VCard-CvMXks-w.js";import{V as O}from"./VForm-MqJCh6j8.js";import{V as W}from"./VAlert-DpF7Vy3n.js";import{V as z}from"./VTextField-C5K-JLC3.js";import{d as F,r as p,w as Z,o as k,g as R,f as a,b as s,e as r,v as d,p as b,n as e,aG as c,ai as w,aM as H,Z as $,c as M,F as T,i as J,a0 as K,a as Q}from"./main-DoQFmMsa.js";import{V as X}from"./VCheckbox-CMyJEiVW.js";import{V as Y}from"./VDialog-q404EtSX.js";import{_ as ee}from"./MoreBtn.vue_vue_type_script_setup_true_lang-DpYF8E9m.js";import{u as te}from"./useApi-CYcmTCPZ.js";import{c as se}from"./createUrl-Bwjf_k-d.js";import{V as ie}from"./VDataTableServer-Bfaih1x0.js";import{V as ae}from"./VDivider-CiGpRMeQ.js";import{V as oe}from"./VSelect-DD45070D.js";import{V as le}from"./VChip-D3GIz1VX.js";import"./VAvatar-A7ztkq2k.js";import"./VImg-BvvxBpKO.js";import"./InputIcon-C91L1USK.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-OXl0Qa9T.js";import"./VField-BD5A6g5X.js";import"./easing-CjukEv2V.js";import"./VInput-j0tWo3aL.js";import"./VCheckboxBtn-ybuIpKJx.js";import"./VSelectionControl-CA9osU1B.js";import"./VOverlay-BtLUM5vY.js";import"./delay-Dhu81iSy.js";import"./lazy-CojwJwNx.js";import"./scopeId-C1Mw3z0g.js";import"./dialog-transition-Cr9rcsZj.js";import"./VMenu-Dwo0kCga.js";import"./VList-jAkofN4n.js";import"./ssrBoot-CpQaGIBj.js";import"./index-9rIf2CJL.js";import"./VDataTable-Cq00Lau-.js";import"./VPagination-Bz8XJ3Wz.js";import"./VTable-XmEDbQ3e.js";import"./filter--_JGeJ5X.js";import"./VSlideGroup-DZ8i23BH.js";const ne={class:"text-center mb-6"},re={class:"text-h4 mb-2"},me={class:"text-body-1"},pe={class:"d-flex align-center gap-4 mb-4"},de=F({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(A,{emit:f}){const m=A,V=f,n=p(""),o=()=>{V("update:isDialogVisible",!1),n.value=""},l=()=>{V("update:isDialogVisible",!1),V("update:permissionName",n.value)};return Z(()=>m,()=>{n.value=m.permissionName}),(x,v)=>{const C=L;return k(),R(Y,{width:x.$vuetify.display.smAndDown?"auto":600,"model-value":m.isDialogVisible,"onUpdate:modelValue":o},{default:a(()=>[s(E,{class:"pa-sm-8 pa-5"},{default:a(()=>[s(C,{variant:"text",size:"default",onClick:o}),s(S,{class:"mt-5"},{default:a(()=>[r("div",ne,[r("h4",re,d(m.permissionName?"Edit":"Add")+" Permission ",1),r("p",me,d(m.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),s(O,null,{default:a(()=>[s(W,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:a(()=>[b(" By "+d(m.permissionName?"Edit":"Add")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),r("div",pe,[s(z,{modelValue:e(n),"onUpdate:modelValue":v[0]||(v[0]=g=>c(n)?n.value=g:null),density:"compact",placeholder:"Enter Permission Name"},null,8,["modelValue"]),s(w,{onClick:l},{default:a(()=>[b(d(m.permissionName?"Update":"Add"),1)]),_:1})]),s(X,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),ue={class:"d-flex gap-2"},ce={class:"text-h6 font-weight-regular"},fe={class:"text-body-1"},ge={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},Ve={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},ve={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},_e={class:"d-flex gap-x-2 align-center me-2"},lt=F({__name:"index",async setup(A){let f,m;const V=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],n=p(""),o=p(10),l=p(1),x=p(),v=p(),C=u=>{var i,D;x.value=(i=u.sortBy[0])==null?void 0:i.key,v.value=(D=u.sortBy[0])==null?void 0:D.order},g=p(!1),y=p(!1),h=p(""),N={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:B}=([f,m]=H(()=>te(se("/apps/permissions",{query:{q:n,itemsPerPage:o,page:l,sortBy:x,orderBy:v}}))),f=await f,m(),f),j=$(()=>B.value.permissions),_=$(()=>B.value.totalPermissions),q=u=>{g.value=!0,h.value=u};return(u,i)=>{const D=Q("IconBtn"),I=ee,U=de;return k(),M(T,null,[s(E,null,{default:a(()=>[s(S,{class:"d-flex align-center justify-sm-space-between justify-start gap-4 flex-wrap"},{default:a(()=>[s(z,{modelValue:e(n),"onUpdate:modelValue":i[0]||(i[0]=t=>c(n)?n.value=t:null),density:"compact",placeholder:"Search Permission",style:{"max-inline-size":"15rem","min-inline-size":"12rem"}},null,8,["modelValue"]),s(w,{density:"default",onClick:i[1]||(i[1]=t=>y.value=!0)},{default:a(()=>[b(" Add Permission ")]),_:1})]),_:1}),s(ie,{"items-per-page":e(o),"onUpdate:itemsPerPage":i[5]||(i[5]=t=>c(o)?o.value=t:null),"items-length":e(_),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:V,items:e(j),"item-value":"name",class:"text-no-wrap","onUpdate:options":C},{"item.assignedTo":a(({item:t})=>[r("div",ue,[(k(!0),M(T,null,J(t.assignedTo,P=>(k(),R(le,{key:P,color:N[P].color,size:"small"},{default:a(()=>[b(d(N[P].text),1)]),_:2},1032,["color"]))),128))])]),"item.name":a(({item:t})=>[r("h6",ce,d(t.name),1)]),"item.createdDate":a(({item:t})=>[r("span",fe,d(t.createdDate),1)]),"item.actions":a(({item:t})=>[s(D,{size:"small",onClick:P=>q(t.name)},{default:a(()=>[s(K,{icon:"ri-edit-box-line"})]),_:2},1032,["onClick"]),s(I,{size:"small"})]),bottom:a(()=>[s(ae),r("div",ge,[r("div",Ve,[b(" Rows Per Page: "),s(oe,{modelValue:e(o),"onUpdate:modelValue":i[2]||(i[2]=t=>c(o)?o.value=t:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),r("p",ve,d(("paginationMeta"in u?u.paginationMeta:e(G))({page:e(l),itemsPerPage:e(o)},e(_))),1),r("div",_e,[s(w,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:e(l)<=1,onClick:i[3]||(i[3]=t=>e(l)<=1?l.value=1:l.value--)},null,8,["disabled"]),s(w,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:e(l)>=Math.ceil(e(_)/e(o)),onClick:i[4]||(i[4]=t=>e(l)>=Math.ceil(e(_)/e(o))?l.value=Math.ceil(e(_)/e(o)):l.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","items-length","items"])]),_:1}),s(U,{isDialogVisible:e(g),"onUpdate:isDialogVisible":i[6]||(i[6]=t=>c(g)?g.value=t:null),"permission-name":e(h),"onUpdate:permissionName":i[7]||(i[7]=t=>c(h)?h.value=t:null)},null,8,["isDialogVisible","permission-name"]),s(U,{isDialogVisible:e(y),"onUpdate:isDialogVisible":i[8]||(i[8]=t=>c(y)?y.value=t:null)},null,8,["isDialogVisible"])],64)}}});export{lt as default};
