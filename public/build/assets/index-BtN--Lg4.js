import{p as R}from"./paginationMeta-BbY5dJ0C.js";import{r as v,e as j}from"./validators-Z6BjoYpS.js";import{d as M,r as u,o as O,g as E,f as t,b as e,n as l,aL as z,aG as p,e as i,ai as q,p as b,aK as H,aM as K,Z as $,c as G,v as w,a as J}from"./main-FCzYu4Z5.js";import{_ as Q}from"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-BVcUhHbr.js";import{C as Y}from"./vue3-perfect-scrollbar-gC16KFl8.js";import{V as T}from"./VDivider-knA9H03k.js";import{b as N,V as F}from"./VCard-Do568HRS.js";import{V as Z}from"./VForm-DAROEqCA.js";import{V as W,a as c}from"./VRow-DcbkzY-u.js";import{V as g}from"./VTextField-JeOZvJkP.js";import{V as I}from"./VSelect-B3zOJvEu.js";import{V as X}from"./VSwitch-DY5wHWk4.js";import{V as ee}from"./VNavigationDrawer-Ae1xKXtE.js";import{u as le}from"./useApi-D4hKsd0_.js";import{c as te}from"./createUrl-nUDDzJFe.js";import{V as ae}from"./VDataTableServer-Bip6aotq.js";import{V as oe}from"./VAvatar-CP8SEjMm.js";import"./helpers-BO_WrFPz.js";import"./VSpacer-DgLf_p26.js";/* empty css              */import"./VImg-CJF-w0vk.js";import"./InputIcon-wsmb1BjU.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-fwUCpOxO.js";import"./VField-Dk2Ak1ql.js";import"./easing-CjukEv2V.js";import"./VInput-B2EWUdv0.js";import"./VList-DBeUyEP9.js";import"./ssrBoot-CaII-3XN.js";import"./dialog-transition-CkzesdKy.js";import"./VMenu-B6LO-Wa5.js";import"./VOverlay-CJoYV0aa.js";import"./delay-ghhtiNk_.js";import"./lazy-s9MkjEdz.js";import"./scopeId-C8kA2Rpd.js";import"./VCheckboxBtn-B0Ml4Fv6.js";import"./VSelectionControl-CjMQjtTf.js";import"./VChip-ChL126MO.js";import"./VSlideGroup-CrEC992E.js";import"./index-9rIf2CJL.js";import"./VDataTable-BGPZE7tW.js";import"./VPagination-ABgY-7nO.js";import"./VTable-DTLm3gSp.js";import"./filter-D7wIZvCz.js";const re=i("div",{class:"text-body-1 font-weight-medium text-high-emphasis"}," Basic Information ",-1),se=i("div",{class:"text-body-1 font-weight-medium text-high-emphasis"}," Shipping Information ",-1),ie={class:"d-flex justify-space-between"},de=i("div",{class:"d-flex flex-column gap-y-1"},[i("h6",{class:"text-h6"}," Use as a billing address? "),i("span",{class:"text-sm"},"Please check budget for more info")],-1),ne={class:"d-flex justify-start"},ue=M({__name:"ECommerceAddCustomerDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen"],setup(P,{emit:x}){const B=P,h=x,y=o=>{h("update:isDrawerOpen",o)},m=u(),n=u(),_=u(),C=u(),D=u(),S=u(),U=u(),A=u(),f=u(),V=u(),s=u(!1),k=()=>{var o;(o=m.value)==null||o.reset(),h("update:isDrawerOpen",!1)},a=()=>{h("update:isDrawerOpen",!1),H(()=>{var o,r;(o=m.value)==null||o.reset(),(r=m.value)==null||r.resetValidation()})};return(o,r)=>{const L=Q;return O(),E(ee,{"model-value":B.isDrawerOpen,temporary:"",location:"end",width:"370","onUpdate:modelValue":y},{default:t(()=>[e(L,{title:"Add a Customer",onCancel:a}),e(T),e(F,{flat:""},{default:t(()=>[e(l(Y),{options:{wheelPropagation:!1},class:"h-100"},{default:t(()=>[e(N,{style:{"block-size":"calc(100dvh - 5rem)"}},{default:t(()=>[e(l(Z),{ref_key:"refVForm",ref:m,onSubmit:r[10]||(r[10]=z(()=>{},["prevent"]))},{default:t(()=>[e(W,null,{default:t(()=>[e(c,null,{default:t(()=>[re]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(n),"onUpdate:modelValue":r[0]||(r[0]=d=>p(n)?n.value=d:null),label:"Full Name",rules:["requiredValidator"in o?o.requiredValidator:l(v)],placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(_),"onUpdate:modelValue":r[1]||(r[1]=d=>p(_)?_.value=d:null),label:"Email Address",rules:["requiredValidator"in o?o.requiredValidator:l(v),"emailValidator"in o?o.emailValidator:l(j)],placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(C),"onUpdate:modelValue":r[2]||(r[2]=d=>p(C)?C.value=d:null),label:"Mobile Number",type:"number",rules:["requiredValidator"in o?o.requiredValidator:l(v)],placeholder:"+(123) 456-7890"},null,8,["modelValue","rules"])]),_:1}),e(c,null,{default:t(()=>[se]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(D),"onUpdate:modelValue":r[3]||(r[3]=d=>p(D)?D.value=d:null),label:"Address Line 1*",rules:["requiredValidator"in o?o.requiredValidator:l(v)],placeholder:"45, Rocker Terrace"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(S),"onUpdate:modelValue":r[4]||(r[4]=d=>p(S)?S.value=d:null),placeholder:"Empire Heights,",rules:["requiredValidator"in o?o.requiredValidator:l(v)],label:"Address Line 2*"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(U),"onUpdate:modelValue":r[5]||(r[5]=d=>p(U)?U.value=d:null),label:"Town*",rules:["requiredValidator"in o?o.requiredValidator:l(v)],placeholder:"New York"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(A),"onUpdate:modelValue":r[6]||(r[6]=d=>p(A)?A.value=d:null),placeholder:"Texas",rules:["requiredValidator"in o?o.requiredValidator:l(v)],label:"State/Province*"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(g,{modelValue:l(f),"onUpdate:modelValue":r[7]||(r[7]=d=>p(f)?f.value=d:null),label:"Post Code*",type:"number",rules:["requiredValidator"in o?o.requiredValidator:l(v)],placeholder:"982347"},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(I,{modelValue:l(V),"onUpdate:modelValue":r[8]||(r[8]=d=>p(V)?V.value=d:null),placeholder:"United States",rules:["requiredValidator"in o?o.requiredValidator:l(v)],label:"Country",items:["United States","United Kingdom","Canada"]},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",ie,[de,e(X,{modelValue:l(s),"onUpdate:modelValue":r[9]||(r[9]=d=>p(s)?s.value=d:null)},null,8,["modelValue"])])]),_:1}),e(c,{cols:"12"},{default:t(()=>[i("div",ne,[e(q,{type:"submit",color:"primary",class:"me-4"},{default:t(()=>[b(" Add ")]),_:1}),e(q,{color:"error",variant:"outlined",onClick:k},{default:t(()=>[b(" Discard ")]),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),me={class:"d-flex justify-space-between flex-wrap gap-y-4"},pe={class:"d-flex flex-row gap-4 align-center flex-wrap"},ce={class:"d-flex align-center gap-x-3"},fe={class:"d-flex flex-column"},Ve={class:"text-sm"},ve={class:"text-h6 font-weight-regular"},ge={class:"d-flex gap-x-2"},he=["src"],ye={class:"text-body-1"},we={class:"text-h6"},be={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},xe={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},_e={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Ce={class:"d-flex gap-x-2 align-center me-2"},vl=M({__name:"index",async setup(P){let x,B;const h=u(""),y=u(!1),m=u(10),n=u(1),_=u(),C=u(),D=[{title:"Customer",key:"customer"},{title:"Customer Id",key:"customerId"},{title:"Country",key:"country"},{title:"Orders",key:"orders"},{title:"Total Spent",key:"totalSpent"}],S=V=>{var s,k;_.value=(s=V.sortBy[0])==null?void 0:s.key,C.value=(k=V.sortBy[0])==null?void 0:k.order},{data:U}=([x,B]=K(()=>le(te("/apps/ecommerce/customers",{query:{q:h,itemsPerPage:m,page:n,sortBy:_,orderBy:C}}))),x=await x,B(),x),A=$(()=>U.value.customers),f=$(()=>U.value.total);return(V,s)=>{const k=J("RouterLink");return O(),G("div",null,[e(F,null,{default:t(()=>[e(N,null,{default:t(()=>[i("div",me,[e(g,{modelValue:l(h),"onUpdate:modelValue":s[0]||(s[0]=a=>p(h)?h.value=a:null),style:{"max-inline-size":"200px","min-inline-size":"200px"},density:"compact",placeholder:"Search .."},null,8,["modelValue"]),i("div",pe,[e(q,{"prepend-icon":"ri-upload-2-line",variant:"outlined",color:"secondary"},{default:t(()=>[b(" Export ")]),_:1}),e(q,{"prepend-icon":"ri-add-line",onClick:s[1]||(s[1]=a=>y.value=!l(y))},{default:t(()=>[b(" Add Customer ")]),_:1})])])]),_:1}),e(ae,{"items-per-page":l(m),"onUpdate:itemsPerPage":s[5]||(s[5]=a=>p(m)?m.value=a:null),page:l(n),"onUpdate:page":s[6]||(s[6]=a=>p(n)?n.value=a:null),items:l(A),"item-value":"customer",headers:D,"items-length":l(f),"show-select":"",class:"text-no-wrap","onUpdate:options":S},{"item.customer":t(({item:a})=>[i("div",ce,[e(oe,{size:"34",image:a.avatar},null,8,["image"]),i("div",fe,[e(k,{to:{name:"apps-ecommerce-customer-details-id",params:{id:a.customerId}},class:"text-h6 font-weight-medium"},{default:t(()=>[b(w(a.customer),1)]),_:2},1032,["to"]),i("span",Ve,w(a.email),1)])])]),"item.customerId":t(({item:a})=>[i("h6",ve," #"+w(a.customerId),1)]),"item.orders":t(({item:a})=>[b(w(a.order),1)]),"item.country":t(({item:a})=>[i("div",ge,[i("img",{src:a.countryFlag,height:"22",width:"22"},null,8,he),i("span",ye,w(a.country),1)])]),"item.totalSpent":t(({item:a})=>[i("h6",we," $"+w(a.totalSpent),1)]),bottom:t(()=>[e(T),i("div",be,[i("div",xe,[b(" Rows Per Page: "),e(I,{modelValue:l(m),"onUpdate:modelValue":s[2]||(s[2]=a=>p(m)?m.value=a:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),i("p",_e,w(("paginationMeta"in V?V.paginationMeta:l(R))({page:l(n),itemsPerPage:l(m)},l(f))),1),i("div",Ce,[e(q,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:l(n)<=1,onClick:s[3]||(s[3]=a=>l(n)<=1?n.value=1:n.value--)},null,8,["disabled"]),e(q,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:l(n)>=Math.ceil(l(f)/l(m)),onClick:s[4]||(s[4]=a=>l(n)>=Math.ceil(l(f)/l(m))?n.value=Math.ceil(l(f)/l(m)):n.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(ue,{"is-drawer-open":l(y),"onUpdate:isDrawerOpen":s[7]||(s[7]=a=>p(y)?y.value=a:null)},null,8,["is-drawer-open"])])}}});export{vl as default};
