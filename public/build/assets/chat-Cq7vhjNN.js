import{a as E,f as re,b as de}from"./formatters-DvWGt13L.js";import{aW as ue,d as B,n as e,o as r,c as _,e as a,b as t,f as c,a0 as m,z as I,g as $,v as x,ai as R,p as O,F as k,x as S,a as j,Z as F,aX as he,aG as V,i as P,I as Y,J as Q,r as w,aY as me,aZ as fe,w as pe,av as ve,a_ as G,aL as _e,aK as ee}from"./main-DoQFmMsa.js";import{_ as ge}from"./MoreBtn.vue_vue_type_script_setup_true_lang-DpYF8E9m.js";import{C as J}from"./vue3-perfect-scrollbar-Dah25qMm.js";import{u as Ce}from"./useApi-CYcmTCPZ.js";import{c as xe}from"./createUrl-Bwjf_k-d.js";import{$ as te}from"./api-B6c1NHMd.js";import{V as T}from"./VAvatar-A7ztkq2k.js";import{V as z}from"./VImg-BvvxBpKO.js";import{V as A}from"./VBadge-Q3x4SoPx.js";import{V as q}from"./VDivider-CiGpRMeQ.js";import{V as oe}from"./VTextField-C5K-JLC3.js";import{V as be}from"./VTextarea-Ko1LCgfW.js";import{V as ye,a as $e}from"./VRadioGroup-gpqN_WPz.js";import{V as H}from"./VSpacer-DO_vufVD.js";import{V as ae}from"./VSwitch-Dj0_1aAO.js";import{u as Ve,a as we,V as ke}from"./VMain-Dh9q-9mA.js";import{V as Z}from"./VNavigationDrawer-C1kAe-dV.js";import{V as Ue}from"./VForm-MqJCh6j8.js";import"./helpers-BO_WrFPz.js";import"./VMenu-Dwo0kCga.js";import"./VOverlay-BtLUM5vY.js";import"./easing-CjukEv2V.js";import"./delay-Dhu81iSy.js";import"./lazy-CojwJwNx.js";import"./scopeId-C1Mw3z0g.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-Cr9rcsZj.js";import"./VList-jAkofN4n.js";import"./ssrBoot-CpQaGIBj.js";import"./index-9rIf2CJL.js";/* empty css                   */import"./VCounter-OXl0Qa9T.js";import"./VField-BD5A6g5X.js";import"./InputIcon-C91L1USK.js";import"./VInput-j0tWo3aL.js";import"./VSelectionControl-CA9osU1B.js";/* empty css              */const L=()=>({resolveAvatarBadgeVariant:s=>s==="online"?"success":s==="busy"?"error":s==="away"?"warning":"secondary"}),D=ue("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(b){const{data:s,error:i}=await Ce(xe("/apps/chat/chats-and-contacts",{query:{q:b}}));if(i.value)console.log(i.value);else{const{chatsContacts:d,contacts:f,profileUser:l}=s.value;this.chatsContacts=d,this.contacts=f,this.profileUser=l}},async getChat(b){const s=await te(`/apps/chat/chats/${b}`);this.activeChat=s},async sendMsg(b){var h,o,v,n,p;const s=(h=this.profileUser)==null?void 0:h.id,i=await te(`apps/chat/chats/${(o=this.activeChat)==null?void 0:o.contact.id}`,{method:"POST",body:{message:b,senderId:s}}),{msg:d,chat:f}=i;if(f!==void 0){const U=this.activeChat;this.chatsContacts.push({...U.contact,chat:{id:f.id,lastMessage:[],unseenMsgs:0,messages:[d]}}),this.activeChat&&(this.activeChat.chat={id:f.id,messages:[d],unseenMsgs:0,userId:(v=this.activeChat)==null?void 0:v.contact.id})}else(p=(n=this.activeChat)==null?void 0:n.chat)==null||p.messages.push(d);const l=this.chatsContacts.find(U=>this.activeChat?U.id===this.activeChat.contact.id:!1);l.chat.lastMessage=d}}}),Ie={class:"text-center px-6"},Se={key:1,class:"text-3xl"},Te={class:"text-h5"},Ae={class:"text-body-1 mb-0"},Be={class:"my-6"},ze=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-1"}," ABOUT ",-1),De={class:"mb-0"},Me={class:"mb-6"},Ne=a("p",{class:"text-base text-disabled mb-1"}," PERSONAL INFORMATION ",-1),Oe={class:"d-flex align-center pa-2"},Pe=a("h6",{class:"text-h6 font-weight-regular"}," lucifer@email.com ",-1),Le={class:"d-flex align-center pa-2"},Re=a("h6",{class:"text-h6 font-weight-regular"}," +1(123) 456 - 7890 ",-1),Fe={class:"d-flex align-center pa-2"},Ee=a("h6",{class:"text-h6 font-weight-regular"}," Mon - Fri 10AM - 8PM ",-1),je=a("p",{class:"text-base text-disabled mb-1"}," OPTIONS ",-1),Je={class:"d-flex align-center pa-2"},qe=a("h6",{class:"text-h6 font-weight-regular"}," Add Tag ",-1),Ze={class:"d-flex align-center pa-2"},He=a("h6",{class:"text-h6 font-weight-regular"}," Important Contact ",-1),Ke={class:"d-flex align-center pa-2"},We=a("h6",{class:"text-h6 font-weight-regular"}," Shared Media ",-1),Xe={class:"d-flex align-center pa-2"},Ye=a("h6",{class:"text-h6 font-weight-regular"}," Delete Contact ",-1),Qe={class:"d-flex align-center pa-2"},Ge=a("h6",{class:"text-h6 font-weight-regular"}," Block Contact ",-1),et=B({__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(b){const s=D(),{resolveAvatarBadgeVariant:i}=L();return(d,f)=>{const l=j("IconBtn");return e(s).activeChat?(r(),_(k,{key:0},[a("div",{class:I(["pt-2 me-2",d.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(l,{onClick:f[0]||(f[0]=h=>d.$emit("close"))},{default:c(()=>[t(m,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})],2),a("div",Ie,[t(A,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(i)(e(s).activeChat.contact.status),class:"chat-user-profile-badge mb-4"},{default:c(()=>[t(T,{size:"84",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(i)(e(s).activeChat.contact.status)},{default:c(()=>[e(s).activeChat.contact.avatar?(r(),$(z,{key:0,src:e(s).activeChat.contact.avatar},null,8,["src"])):(r(),_("span",Se,x(("avatarText"in d?d.avatarText:e(E))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Te,x(e(s).activeChat.contact.fullName),1),a("p",Ae,x(e(s).activeChat.contact.role),1)]),t(q),t(e(J),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-5 px-5",options:{wheelPropagation:!1}},{default:c(()=>[a("div",Be,[ze,a("p",De,x(e(s).activeChat.contact.about),1)]),a("div",Me,[Ne,a("div",Oe,[t(m,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-mail-line"}),Pe]),a("div",Le,[t(m,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-phone-line"}),Re]),a("div",Fe,[t(m,{class:"me-2",size:"22",icon:"ri-time-line",color:"high-emphasis"}),Ee])]),a("div",null,[je,a("div",Je,[t(m,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-bookmark-line"}),qe]),a("div",Ze,[t(m,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-star-line"}),He]),a("div",Ke,[t(m,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-file-image-line"}),We]),a("div",Xe,[t(m,{icon:"ri-delete-bin-line",size:"22",color:"high-emphasis",class:"me-2"}),Ye]),a("div",Qe,[t(m,{size:"22",color:"high-emphasis",icon:"ri-forbid-line",class:"me-2"}),Ge])]),t(R,{block:"",color:"error","append-icon":"ri-delete-bin-7-line",class:"mt-12"},{default:c(()=>[O(" Delete Contact ")]),_:1})]),_:1})],64)):S("",!0)}}}),tt=["data-x"],at={key:1},st={class:"flex-grow-1 ms-4 overflow-hidden"},ot={class:"text-base mb-0"},it={class:"d-block text-body-2 text-truncate"},nt={key:0,class:"d-flex flex-column align-self-start"},lt={class:"d-block text-sm text-disabled whitespace-no-wrap"},se=B({__name:"ChatContact",props:{isChatContact:{type:Boolean,default:!1},user:{}},setup(b){const s=b,i=D(),{resolveAvatarBadgeVariant:d}=L(),f=F(()=>{var h,o;const l=((h=i.activeChat)==null?void 0:h.contact.id)===s.user.id;return(s.isChatContact||!((o=i.activeChat)!=null&&o.chat))&&l});return(l,h)=>(r(),_("li",{key:e(i).chatsContacts.length,class:I(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(f)}]),"data-x":e(i).chatsContacts.length},[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(d)(s.user.status),bordered:"","model-value":s.isChatContact},{default:c(()=>[t(T,{size:"40",variant:s.user.avatar?void 0:"tonal",color:s.user.avatar?void 0:e(d)(s.user.status)},{default:c(()=>[s.user.avatar?(r(),$(z,{key:0,src:s.user.avatar,alt:"John Doe"},null,8,["src"])):(r(),_("span",at,x(("avatarText"in l?l.avatarText:e(E))(l.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),a("div",st,[a("p",ot,x(s.user.fullName),1),a("span",it,x(s.isChatContact&&"chat"in s.user?s.user.chat.lastMessage.message:s.user.about),1)]),s.isChatContact&&"chat"in s.user?(r(),_("div",nt,[a("span",lt,x(("formatDateToMonthShort"in l?l.formatDateToMonthShort:e(re))(s.user.chat.lastMessage.time)),1),s.user.chat.unseenMsgs?(r(),$(A,{key:0,color:"error",inline:"",content:s.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):S("",!0)])):S("",!0)],10,tt))}}),ct={key:0,class:"chat-list-header gap-4"},rt=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Chats")],-1),dt={class:"no-chat-items-text text-disabled"},ut=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Contacts")],-1),ht={class:"no-chat-items-text text-disabled"},mt=B({__name:"ChatLeftSidebarContent",props:{search:{},isDrawerOpen:{type:Boolean}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(b,{emit:s}){const i=b,d=s,{resolveAvatarBadgeVariant:f}=L(),l=he(i,"search",d),h=D();return(o,v)=>{const n=j("IconBtn");return r(),_(k,null,[e(h).profileUser?(r(),_("div",ct,[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(f)(e(h).profileUser.status),bordered:""},{default:c(()=>[t(T,{class:"cursor-pointer",onClick:v[0]||(v[0]=p=>o.$emit("showUserProfile"))},{default:c(()=>[t(z,{src:e(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(oe,{modelValue:e(l),"onUpdate:modelValue":v[1]||(v[1]=p=>V(l)?l.value=p:null),placeholder:"Search...","prepend-inner-icon":"ri-search-line",density:"compact",class:"chat-list-search"},null,8,["modelValue"]),o.$vuetify.display.smAndDown?(r(),$(n,{key:0,onClick:v[2]||(v[2]=p=>o.$emit("close"))},{default:c(()=>[t(m,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})):S("",!0)])):S("",!0),t(q),t(e(J),{tag:"ul",class:"chat-contacts-list px-3 d-flex flex-column gap-1",options:{wheelPropagation:!1}},{default:c(()=>[rt,(r(!0),_(k,null,P(e(h).chatsContacts,p=>(r(),$(se,{key:`chat-${p.id}`,user:p,"is-chat-contact":"",onClick:U=>o.$emit("openChatOfContact",p.id)},null,8,["user","onClick"]))),128)),Y(a("span",dt,"No chats found",512),[[Q,!e(h).chatsContacts.length]]),ut,(r(!0),_(k,null,P(e(h).contacts,p=>(r(),$(se,{key:`chat-${p.id}`,user:p,onClick:U=>o.$emit("openChatOfContact",p.id)},null,8,["user","onClick"]))),128)),Y(a("span",ht,"No contacts found",512),[[Q,!e(h).contacts.length]])]),_:1})],64)}}}),ft={class:"chat-log pa-5"},pt={class:"mb-0"},vt={class:"text-sm text-disabled mb-0",style:{"letter-spacing":"0.4px"}},_t=B({__name:"ChatLog",setup(b){const s=D(),i=F(()=>{var l,h;return{id:(l=s.activeChat)==null?void 0:l.contact.id,avatar:(h=s.activeChat)==null?void 0:h.contact.avatar}}),d=l=>l.isSeen?{icon:"ri-check-double-line",color:"success"}:l.isDelivered?{icon:"ri-check-double-line",color:void 0}:{icon:"ri-check-line",color:void 0},f=F(()=>{let l=[];const h=[];if(s.activeChat.chat){l=s.activeChat.chat.messages;let o=l[0].senderId,v={senderId:o,messages:[]};l.forEach((n,p)=>{o===n.senderId?v.messages.push({message:n.message,time:n.time,feedback:n.feedback}):(o=n.senderId,h.push(v),v={senderId:n.senderId,messages:[{message:n.message,time:n.time,feedback:n.feedback}]}),p===l.length-1&&h.push(v)})}return h});return(l,h)=>(r(),_("div",ft,[(r(!0),_(k,null,P(e(f),(o,v)=>(r(),_("div",{key:o.senderId+String(v),class:I(["chat-group d-flex align-start",[{"flex-row-reverse":o.senderId!==e(i).id,"mb-8":e(f).length-1!==v}]])},[a("div",{class:I(["chat-avatar",o.senderId!==e(i).id?"ms-4":"me-4"])},[t(T,{size:"32"},{default:c(()=>{var n;return[t(z,{src:o.senderId===e(i).id?e(i).avatar:(n=e(s).profileUser)==null?void 0:n.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:I(["chat-body d-inline-flex flex-column",o.senderId!==e(i).id?"align-end":"align-start"])},[(r(!0),_(k,null,P(o.messages,(n,p)=>(r(),_("div",{key:n.time,class:I(["chat-content text-body-1 py-2 px-4 elevation-2",[o.senderId===e(i).id?"bg-surface chat-left":"bg-primary text-white chat-right",o.messages.length-1!==p?"mb-2":"mb-1"]])},[a("p",pt,x(n.message),1)],2))),128)),a("div",{class:I([{"text-right":o.senderId!==e(i).id},"d-flex align-center gap-2"])},[o.senderId!==e(i).id?(r(),$(m,{key:0,size:"16",color:d(o.messages[o.messages.length-1].feedback).color},{default:c(()=>[O(x(d(o.messages[o.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):S("",!0),a("p",vt,x(("formatDate"in l?l.formatDate:e(de))(o.messages[o.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}}),gt={class:"pt-2 me-2 text-end"},Ct={class:"text-center px-6"},xt={key:1,class:"text-3xl"},bt={class:"text-h5"},yt={class:"text-body-1 text-capitalize mb-0"},$t={class:"my-6 text-medium-emphasis"},Vt=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-0"}," ABOUT ",-1),wt={class:"mb-6"},kt=a("p",{class:"text-base text-disabled mb-1"}," STATUS ",-1),Ut={class:"text-medium-emphasis chat-settings-section"},It=a("p",{class:"text-base text-disabled mb-0"}," SETTINGS ",-1),St={class:"d-flex align-center pa-2"},Tt=a("h6",{class:"text-h6 font-weight-regular"}," Two-step Verification ",-1),At={class:"d-flex align-center pa-2"},Bt=a("h6",{class:"text-h6 font-weight-regular"}," Notification ",-1),zt={class:"d-flex align-center pa-2"},Dt=a("h6",{class:"text-h6 font-weight-regular"}," Invite Friends ",-1),Mt={class:"d-flex align-center pa-2"},Nt=a("h6",{class:"text-h6 font-weight-regular"}," Delete Account ",-1),Ot=B({__name:"ChatUserProfileSidebarContent",emits:["close"],setup(b){const s=D(),{resolveAvatarBadgeVariant:i}=L(),d=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],f=w(!0),l=w(!1);return(h,o)=>{const v=j("IconBtn");return e(s).profileUser?(r(),_(k,{key:0},[a("div",gt,[t(v,{onClick:o[0]||(o[0]=n=>h.$emit("close"))},{default:c(()=>[t(m,{class:"text-medium-emphasis",icon:"ri-close-line"})]),_:1})]),a("div",Ct,[t(A,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:e(i)(e(s).profileUser.status),class:"chat-user-profile-badge mb-4"},{default:c(()=>[t(T,{size:"84",variant:e(s).profileUser.avatar?void 0:"tonal",color:e(s).profileUser.avatar?void 0:e(i)(e(s).profileUser.status)},{default:c(()=>[e(s).profileUser.avatar?(r(),$(z,{key:0,src:e(s).profileUser.avatar},null,8,["src"])):(r(),_("span",xt,x(("avatarText"in h?h.avatarText:e(E))(e(s).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",bt,x(e(s).profileUser.fullName),1),a("p",yt,x(e(s).profileUser.role),1)]),t(q),t(e(J),{class:"ps-chat-user-profile-sidebar-content pb-5 px-5",options:{wheelPropagation:!1}},{default:c(()=>[a("div",$t,[Vt,t(be,{id:"textarea-user-about",modelValue:e(s).profileUser.about,"onUpdate:modelValue":o[1]||(o[1]=n=>e(s).profileUser.about=n),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",wt,[kt,t(ye,{modelValue:e(s).profileUser.status,"onUpdate:modelValue":o[2]||(o[2]=n=>e(s).profileUser.status=n)},{default:c(()=>[(r(),_(k,null,P(d,n=>t($e,{key:n.title,label:n.title,value:n.value,color:n.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",Ut,[It,a("div",St,[t(m,{class:"me-2",icon:"ri-lock-password-line",size:"22",color:"high-emphasis"}),Tt,t(H),t(ae,{modelValue:e(f),"onUpdate:modelValue":o[3]||(o[3]=n=>V(f)?f.value=n:null),density:"compact"},null,8,["modelValue"])]),a("div",At,[t(m,{class:"me-2",icon:"ri-notification-line",size:"22",color:"high-emphasis"}),Bt,t(H),t(ae,{modelValue:e(l),"onUpdate:modelValue":o[4]||(o[4]=n=>V(l)?l.value=n:null),density:"compact"},null,8,["modelValue"])]),a("div",zt,[t(m,{class:"me-2",icon:"ri-user-add-line",size:"22",color:"high-emphasis"}),Dt]),a("div",Mt,[t(m,{class:"me-2",icon:"ri-delete-bin-7-line",size:"22",color:"high-emphasis"}),Nt])]),t(R,{block:"",color:"primary",class:"mt-11","append-icon":"ri-logout-box-r-line"},{default:c(()=>[O(" Logout ")]),_:1})]),_:1})],64)):S("",!0)}}}),Pt={key:0,class:"d-flex flex-column h-100"},Lt={class:"active-chat-header d-flex align-center text-medium-emphasis"},Rt={key:1},Ft={class:"flex-grow-1 overflow-hidden"},Et={class:"text-h6 font-weight-regular"},jt={class:"text-body-2 text-truncate mb-0"},Jt={class:"d-sm-flex align-center d-none"},qt={class:"d-flex gap-1 align-center"},Zt={class:"d-none d-md-block"},Ht={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Kt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},za=B({__name:"chat",setup(b){me(C=>({d7c86b1c:e(le)}));const s=fe(),i=D(),{isLeftSidebarOpen:d}=Ve(s.smAndDown),{resolveAvatarBadgeVariant:f}=L(),l=w(),h=()=>{const C=l.value.$el||l.value;C.scrollTop=C.scrollHeight},o=w("");pe(o,C=>i.fetchChatsAndContacts(C),{immediate:!0});const v=()=>{s.mdAndUp.value||(d.value=!0)},n=w(""),p=async()=>{n.value&&(await i.sendMsg(n.value),n.value="",ee(()=>{h()}))},U=async C=>{await i.getChat(C),n.value="";const u=i.chatsContacts.find(y=>y.id===C);u&&(u.chat.unseenMsgs=0),s.smAndDown.value&&(d.value=!1),ee(()=>{h()})},M=w(!1),N=w(!1),K=w(),ie=[{title:"View Contact",value:"View Contact"},{title:"Mute Notifications",value:"Mute Notifications"},{title:"Block Contact",value:"Block Contact"},{title:"Clear Chat",value:"Clear Chat"},{title:"Report",value:"Report"}],{name:ne}=ve(),le=F(()=>{var u,y;let C="transparent";return G&&(C=(y=(u=G)==null?void 0:u[ne.value].colors)==null?void 0:y["chat-bg"]),C});return(C,u)=>{const y=j("IconBtn"),ce=ge;return r(),$(ke,{class:"chat-app-layout bg-surface",style:{"z-index":"0"}},{default:c(()=>[t(Z,{modelValue:e(M),"onUpdate:modelValue":u[1]||(u[1]=g=>V(M)?M.value=g:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:c(()=>[t(Ot,{onClose:u[0]||(u[0]=g=>M.value=!1)})]),_:1},8,["modelValue"]),t(Z,{modelValue:e(N),"onUpdate:modelValue":u[3]||(u[3]=g=>V(N)?N.value=g:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:c(()=>[t(et,{onClose:u[2]||(u[2]=g=>N.value=!1)})]),_:1},8,["modelValue"]),t(Z,{modelValue:e(d),"onUpdate:modelValue":u[8]||(u[8]=g=>V(d)?d.value=g:null),absolute:"",touchless:"",location:"start",width:"370",temporary:C.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:C.$vuetify.display.mdAndUp},{default:c(()=>[t(mt,{isDrawerOpen:e(d),"onUpdate:isDrawerOpen":u[4]||(u[4]=g=>V(d)?d.value=g:null),search:e(o),"onUpdate:search":u[5]||(u[5]=g=>V(o)?o.value=g:null),onOpenChatOfContact:U,onShowUserProfile:u[6]||(u[6]=g=>M.value=!0),onClose:u[7]||(u[7]=g=>d.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(we,{class:"chat-content-container"},{default:c(()=>[e(i).activeChat?(r(),_("div",Pt,[a("div",Lt,[t(y,{class:"d-md-none me-4",onClick:u[9]||(u[9]=g=>d.value=!0)},{default:c(()=>[t(m,{icon:"ri-menu-line"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:u[10]||(u[10]=g=>N.value=!0)},[t(A,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(f)(e(i).activeChat.contact.status),bordered:"",class:"me-4"},{default:c(()=>[t(T,{size:"40",variant:e(i).activeChat.contact.avatar?void 0:"tonal",color:e(i).activeChat.contact.avatar?void 0:e(f)(e(i).activeChat.contact.status),class:"cursor-pointer"},{default:c(()=>[e(i).activeChat.contact.avatar?(r(),$(z,{key:0,src:e(i).activeChat.contact.avatar,alt:e(i).activeChat.contact.fullName},null,8,["src","alt"])):(r(),_("span",Rt,x(("avatarText"in C?C.avatarText:e(E))(e(i).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",Ft,[a("h6",Et,x(e(i).activeChat.contact.fullName),1),a("p",jt,x(e(i).activeChat.contact.role),1)])]),t(H),a("div",Jt,[t(y,null,{default:c(()=>[t(m,{icon:"ri-phone-line"})]),_:1}),t(y,null,{default:c(()=>[t(m,{icon:"ri-vidicon-line"})]),_:1}),t(y,null,{default:c(()=>[t(m,{icon:"ri-search-line"})]),_:1})]),t(ce,{"menu-list":ie})]),t(q),t(e(J),{ref_key:"chatLogPS",ref:l,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:c(()=>[t(_t)]),_:1},512),t(Ue,{class:"chat-log-message-form mb-5 mx-5",onSubmit:_e(p,["prevent"])},{default:c(()=>{var g;return[(r(),$(oe,{key:(g=e(i).activeChat)==null?void 0:g.contact.id,modelValue:e(n),"onUpdate:modelValue":u[12]||(u[12]=W=>V(n)?n.value=W:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message",autofocus:""},{"append-inner":c(()=>[a("div",qt,[t(y,{size:"small"},{default:c(()=>[t(m,{icon:"ri-mic-line",class:"text-high-emphasis"})]),_:1}),t(y,{size:"small",onClick:u[11]||(u[11]=W=>{var X;return(X=e(K))==null?void 0:X.click()})},{default:c(()=>[t(m,{icon:"ri-attachment-2",class:"text-high-emphasis"})]),_:1}),a("div",Zt,[t(R,{"append-icon":"ri-send-plane-line",onClick:p},{default:c(()=>[O(" Send ")]),_:1})]),t(y,{class:"d-block d-md-none",onClick:p},{default:c(()=>[t(m,{icon:"ri-send-plane-line"})]),_:1})])]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:K,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(r(),_("div",Ht,[t(T,{size:"98",color:"primary",variant:"tonal",class:"mb-5"},{default:c(()=>[t(m,{size:"50",icon:"ri-wechat-line"})]),_:1}),C.$vuetify.display.smAndDown?(r(),$(R,{key:0,rounded:"pill",onClick:v},{default:c(()=>[O(" Start Conversation ")]),_:1})):(r(),_("p",Kt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}});export{za as default};
