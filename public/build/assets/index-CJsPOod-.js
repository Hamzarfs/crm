import{a as J}from"./formatters-DvWGt13L.js";import{p as K}from"./paginationMeta-BbY5dJ0C.js";import{_ as W}from"./MoreBtn.vue_vue_type_script_setup_true_lang-DpYF8E9m.js";import{u as X}from"./useApi-CYcmTCPZ.js";import{c as Y}from"./createUrl-Bwjf_k-d.js";import{$ as ee}from"./api-B6c1NHMd.js";import{b as N,V as P,c as te}from"./VCard-CvMXks-w.js";import{V as ae,a as ie}from"./VRow-CBIZXy0V.js";import{d as oe,r as u,aM as le,Z as $,n as t,o as p,c as h,b as a,f as o,F as E,i as ne,ai as C,p as m,e as n,aG as g,v as s,s as se,a0 as k,g as D,a as R,z as L,x as re}from"./main-DoQFmMsa.js";import{V as ce}from"./VSpacer-DO_vufVD.js";import{V as de}from"./VTextField-C5K-JLC3.js";import{V as F}from"./VSelect-DD45070D.js";import{V as pe}from"./VDataTableServer-Bfaih1x0.js";import{V as ue}from"./VTooltip-DriPcYkZ.js";import{V as B}from"./VAvatar-A7ztkq2k.js";import{V as me}from"./VImg-BvvxBpKO.js";import{V as ve}from"./VChip-D3GIz1VX.js";import{V as j}from"./VDivider-CiGpRMeQ.js";import"./helpers-BO_WrFPz.js";import"./VMenu-Dwo0kCga.js";import"./VOverlay-BtLUM5vY.js";import"./easing-CjukEv2V.js";import"./delay-Dhu81iSy.js";import"./lazy-CojwJwNx.js";import"./scopeId-C1Mw3z0g.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-Cr9rcsZj.js";import"./VList-jAkofN4n.js";import"./ssrBoot-CpQaGIBj.js";import"./index-9rIf2CJL.js";/* empty css              *//* empty css                   */import"./VCounter-OXl0Qa9T.js";import"./VField-BD5A6g5X.js";import"./InputIcon-C91L1USK.js";import"./VInput-j0tWo3aL.js";import"./VCheckboxBtn-ybuIpKJx.js";import"./VSelectionControl-CA9osU1B.js";import"./VDataTable-Cq00Lau-.js";import"./VPagination-Bz8XJ3Wz.js";import"./VTable-XmEDbQ3e.js";import"./filter--_JGeJ5X.js";import"./VSlideGroup-DZ8i23BH.js";const fe={key:0},he={class:"d-flex flex-column"},ge={class:"text-h4"},_e={class:"text-body-1 text-capitalize"},ye={class:"d-flex align-center flex-wrap gap-4"},be={class:"invoice-list-search"},xe={class:"invoice-list-search"},Ve={class:"mb-0"},we={class:"mb-0"},ke={class:"mb-0"},Ie={class:"d-flex align-center"},Pe={key:1},$e={class:"d-flex flex-column"},Ce={class:"text-body-2"},De={key:1,class:"text-h6 font-weight-regular"},Be={class:"text-no-wrap"},Se={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ze={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Ue={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Te={class:"d-flex gap-x-2 align-center me-2"},Me={key:1},Pt=oe({__name:"index",async setup(Ae){let x,S;const V=u(""),w=u(null),_=u([]),c=u(10),r=u(1),z=u(),U=u(),q=i=>{var l,v;z.value=(l=i.sortBy[0])==null?void 0:l.key,U.value=(v=i.sortBy[0])==null?void 0:v.order},y=u([{title:"Clients",value:24,icon:"ri-user-line"},{title:"Invoices",value:165,icon:"ri-pages-line"},{title:"Paid",value:"$2.46k",icon:"ri-wallet-line"},{title:"Unpaid",value:"$876",icon:"ri-money-dollar-circle-line"}]),G=[{title:"#",key:"id"},{title:"Status",key:"trending",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:T,execute:O}=([x,S]=le(()=>X(Y("/apps/invoice",{query:{q:V,status:w,itemsPerPage:c,page:r,sortBy:z,orderBy:U}}))),x=await x,S(),x),M=$(()=>T.value.invoices),b=$(()=>T.value.totalInvoices),f=(i,l)=>i===l?{status:"Unpaid",chip:{color:"error"}}:i===0?{status:"Paid",chip:{color:"success"}}:{status:i,chip:{variant:"text"}},I=i=>i==="Partial Payment"?{variant:"warning",icon:"ri-line-chart-line"}:i==="Paid"?{variant:"success",icon:"ri-check-line"}:i==="Downloaded"?{variant:"info",icon:"ri-arrow-down-line"}:i==="Draft"?{variant:"secondary",icon:"ri-save-line"}:i==="Sent"?{variant:"primary",icon:"ri-mail-line"}:i==="Past Due"?{variant:"error",icon:"ri-error-warning-line"}:{variant:"secondary",icon:"ri-close-line"},Q=$(()=>i=>[{title:"Download",value:"download",prependIcon:"ri-download-line"},{title:"Edit",value:"edit",prependIcon:"ri-pencil-line",to:{name:"apps-invoice-edit-id",params:{id:i}}},{title:"Duplicate",value:"duplicate",prependIcon:"ri-stack-line"}]),Z=async i=>{await ee(`/apps/invoice/${i}`,{method:"DELETE"});const l=_.value.findIndex(v=>v===i);l!==-1&&_.value.splice(l,1),O()};return(i,l)=>{const v=R("RouterLink"),A=R("IconBtn"),H=W;return t(M)?(p(),h("section",fe,[a(P,{class:"mb-6"},{default:o(()=>[a(N,{class:"px-2"},{default:o(()=>[a(ae,null,{default:o(()=>[(p(!0),h(E,null,ne(t(y),(e,d)=>(p(),h(E,{key:d},[a(ie,{cols:"12",sm:"6",md:"3",class:L(["px-6",d!==t(y).length-1&&i.$vuetify.display.width<=600?"border-b":""])},{default:o(()=>[n("div",{class:L(["d-flex justify-space-between",i.$vuetify.display.xs?d!==t(y).length-1?"border-b pb-4":"":i.$vuetify.display.sm&&d<t(y).length/2?"border-b pb-4":""])},[n("div",he,[n("h4",ge,s(e.value),1),n("span",_e,s(e.title),1)]),a(B,{variant:"tonal",rounded:"",size:"42"},{default:o(()=>[a(k,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1032,["class"]),(i.$vuetify.display.mdAndUp?d!==t(y).length-1:i.$vuetify.display.smAndUp&&d%2===0)?(p(),D(j,{key:0,vertical:"",inset:"",length:"70"})):re("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(P,{id:"invoice-list"},{default:o(()=>[a(N,{class:"d-flex align-center flex-wrap gap-4"},{default:o(()=>[a(C,{"prepend-icon":"ri-add-line",to:{name:"apps-invoice-add"}},{default:o(()=>[m(" Create invoice ")]),_:1}),a(ce),n("div",ye,[n("div",be,[a(de,{modelValue:t(V),"onUpdate:modelValue":l[0]||(l[0]=e=>g(V)?V.value=e:null),density:"compact",placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",xe,[a(F,{modelValue:t(w),"onUpdate:modelValue":l[1]||(l[1]=e=>g(w)?w.value=e:null),placeholder:"Invoice Status",clearable:"",density:"compact","clear-icon":"ri-close-line",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),a(pe,{"model-value":t(_),"onUpdate:modelValue":l[5]||(l[5]=e=>g(_)?_.value=e:null),"items-per-page":t(c),"onUpdate:itemsPerPage":l[6]||(l[6]=e=>g(c)?c.value=e:null),page:t(r),"onUpdate:page":l[7]||(l[7]=e=>g(r)?r.value=e:null),"show-select":"","items-length":t(b),headers:G,items:t(M),"item-value":"id",class:"text-no-wrap rounded-0","onUpdate:options":q},{"item.id":o(({item:e})=>[a(v,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[m(" #"+s(e.id),1)]),_:2},1032,["to"])]),"item.trending":o(({item:e})=>[a(ue,null,{activator:o(({props:d})=>[a(B,se({size:28},d,{color:I(e.invoiceStatus).variant,variant:"tonal"}),{default:o(()=>[a(k,{size:16,icon:I(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:o(()=>[n("p",Ve,s(e.invoiceStatus),1),n("p",we," Balance: "+s(e.balance),1),n("p",ke," Due date: "+s(e.dueDate),1)]),_:2},1024)]),"item.client":o(({item:e})=>[n("div",Ie,[a(B,{size:"34",color:e.avatar.length?void 0:I(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:o(()=>[e.avatar.length?(p(),D(me,{key:0,src:e.avatar},null,8,["src"])):(p(),h("span",Pe,s(("avatarText"in i?i.avatarText:t(J))(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",$e,[a(v,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-h6 font-weight-medium mb-0"},{default:o(()=>[m(s(e.client.name),1)]),_:2},1024),n("span",Ce,s(e.client.companyEmail),1)])])]),"item.total":o(({item:e})=>[m(" $"+s(e.total),1)]),"item.date":o(({item:e})=>[m(s(e.issuedDate),1)]),"item.balance":o(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(p(),D(ve,{key:0,color:f(e.balance,e.total).chip.color,size:"small"},{default:o(()=>[m(s(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(p(),h("h6",De,s(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":o(({item:e})=>[n("div",Be,[a(A,{size:"small",onClick:d=>Z(e.id)},{default:o(()=>[a(k,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),a(A,{size:"small",to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:o(()=>[a(k,{icon:"ri-eye-line"})]),_:2},1032,["to"]),a(H,{size:"small","menu-list":t(Q)(e.id),"item-props":""},null,8,["menu-list"])])]),bottom:o(()=>[a(j),n("div",Se,[n("div",ze,[m(" Rows Per Page: "),a(F,{modelValue:t(c),"onUpdate:modelValue":l[2]||(l[2]=e=>g(c)?c.value=e:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",Ue,s(("paginationMeta"in i?i.paginationMeta:t(K))({page:t(r),itemsPerPage:t(c)},t(b))),1),n("div",Te,[a(C,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(r)<=1,onClick:l[3]||(l[3]=e=>t(r)<=1?r.value=1:r.value--)},null,8,["disabled"]),a(C,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(r)>=Math.ceil(t(b)/t(c)),onClick:l[4]||(l[4]=e=>t(r)>=Math.ceil(t(b)/t(c))?r.value=Math.ceil(t(b)/t(c)):r.value++)},null,8,["disabled"])])])]),_:1},8,["model-value","items-per-page","page","items-length","items"])]),_:1})])):(p(),h("section",Me,[a(P,null,{default:o(()=>[a(te,null,{default:o(()=>[m("No Invoice Found")]),_:1})]),_:1})]))}}});export{Pt as default};
